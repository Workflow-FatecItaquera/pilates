<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>Editar Aluno</title>
	<link rel="stylesheet" th:href="@{/css/styles.css}">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
	<link rel="icon" type="image/x-icon" th:href="@{/images/logoi.png}">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" rel="stylesheet">
</head>

<body>
	<th:block th:replace="fragments/header :: header"></th:block>

	<div class="box-linear d-flex flex-column align-items-center">
		<form method="post" th:object="${aluno}" th:action="@{/update/aluno}">
			<input type="hidden" name="id" th:field="*{id}" th:value="${aluno.id}" />
			<input type="hidden" name="senha" th:field="*{senha}" th:value="${aluno.senha}" />

			<div class="form-cadastro d-flex flex-column gap-2" data-aos="fade-up" data-aos-duration="1000">
				<div class="d-flex flex-row justify-content-between align-items-center">
					<h3>Editar Informações de aluno</h3>
					<img class="icon secao" th:src="@{/images/icon-setabaixo.png}" alt="Seção">
				</div>

				<div class="d-flex flex-row justify-content-between align-items-center">
					<div class="box-input d-flex flex-column align-items-start gap-2">
						<label>CPF</label>
						<input type="text" name="cpf" th:field="*{cpf}"  th:value="${aluno.cpf}" oninput="mascaraCPF(this)">
					</div>
					<div class="box-input d-flex flex-column align-items-start gap-2">
						<label>E-mail</label>
						<input type="text" name="email" th:field="*{email}"  th:value="${aluno.email}">
					</div>
				</div>

				<div class="d-flex flex-row justify-content-between align-items-center">
					<div class="box-input d-flex flex-column align-items-start gap-2">
						<label>Nome</label>
						<input type="text" name="nome" th:field="*{nome}"  th:value="${aluno.nome}">
					</div>
					<div class="box-input d-flex flex-column align-items-start gap-2">
						<label>Data de nascimento</label>
						<input type="date" name="dataNascimento"
							th:value="${#dates.format(aluno.dataNascimento, 'yyyy-MM-dd')}"
							th:field="*{dataNascimento}" >
							
					</div>
				</div>

				<div class="d-flex flex-row justify-content-between align-items-center">
					<div class="box-input d-flex flex-column align-items-start gap-2">
						<label>Sobrenome</label>
						<input type="text" name="sobrenome" th:field="*{sobrenome}"  th:value="${aluno.sobrenome}">
					</div>
					<div class="box-input d-flex flex-column align-items-start gap-2">
						<label>Assinatura</label>
						<select id="select-assinatura" th:field="*{plano}"  name="assinaturas">
							<option th:each="assinatura : ${assinaturas}" th:value="${assinatura.id}"
								th:text="|R$ ${#numbers.formatDecimal(assinatura.valor, 1, 'COMMA', 2, 'POINT')} - ${assinatura.nome}|"
								th:selected="${aluno.plano != null} ? ${assinatura.id.equals(aluno.plano.id)} : false">
							</option>
						</select>
					</div>
				</div>

				<div class="d-flex flex-row justify-content-between align-items-center">
					<div class="box-input d-flex flex-column align-items-start gap-2">
						<label>Telefone</label>
						<input type="text" name="telefone" th:field="*{telefone}"  th:value="${aluno.telefone}" oninput="mascaraCelula(this)">
					</div>
					<div class="box-input d-flex flex-column align-items-start gap-2">
						<label>Endereço</label>
						<input id="endereco-logradouro" type="text" name="endereco" th:field="*{endereco.logradouro}" th:value="${aluno.endereco.logradouro}">
					</div>
				</div>

				<div class="d-flex flex-row justify-content-between align-items-center">
					<div class="box-input d-flex flex-column align-items-start gap-2">
						<label>CEP</label>
						<input id="endereco-cep" type="text" name="cep" th:field="*{endereco.cep}"  th:value="${aluno.endereco.cep}" oninput="mascaraCEP(this)">
					</div>
					<div class="box-input d-flex flex-column align-items-start gap-2">
						<label>Número</label>
						<input type="text" name="numero" th:field="*{endereco.numero}" th:value="${aluno.endereco.numero}">
					</div>
				</div>

				<div class="d-flex flex-row justify-content-between align-items-center">
					<div class="box-input d-flex flex-column align-items-start gap-2">
						<label>Estado</label>
						<input id="endereco-estado" type="text" name="estado" th:field="*{endereco.estado}" th:value="${aluno.endereco.estado}">
					</div>
					<div class="box-input d-flex flex-column align-items-start gap-2">
						<label>Cidade</label>
						<input id="endereco-cidade" type="text" name="cidade" th:field="*{endereco.cidade}" th:value="${aluno.endereco.cidade}">
					</div>
				</div>

				<div class="d-flex flex-row justify-content-between align-items-center">
					<div class="box-input d-flex flex-column align-items-start gap-2">
						<label>Bairro</label>
						<input id="endereco-bairro" type="text" name="bairro" th:field="*{endereco.bairro}" th:value="${aluno.endereco.bairro}">
					</div>
					<div class="box-input d-flex flex-column align-items-start gap-2">
						<label>Complemento</label>
						<input type="text" name="complemento" th:field="*{endereco.complemento}" th:value="${aluno.endereco.complemento}">
					</div>
				</div>

				<br>
				<button type="submit" class="btn btn-primary">Salvar Alterações</button>
			</div>
		</form>
	</div>



	<script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
	<script>
		AOS.init();
	</script>
	<th:block th:replace="fragments/footer :: footer"></th:block>
	<script th:src="@{/js/formHandler.js}"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
		crossorigin="anonymous"></script>
</body>

</html>